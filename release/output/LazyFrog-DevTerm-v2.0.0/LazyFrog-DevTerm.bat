@echo off
:: ?????????????????????????????????????????????????????????????????
:: ?  LazyFrog DevTerm - Developer Tools Launcher                  ?
:: ?  Powered by Kindware.dev                                      ?
:: ?????????????????????????????????????????????????????????????????

title LazyFrog Developer Tools - powered by Kindware.dev
cd /d "%~dp0"

:: Check for PowerShell 7
where pwsh >nul 2>nul
if %ERRORLEVEL% neq 0 (
    if exist "C:\Program Files\PowerShell\7\pwsh.exe" (
        "C:\Program Files\PowerShell\7\pwsh.exe" -NoProfile -ExecutionPolicy Bypass -NoLogo -File "%~dp0src\main.ps1"
        exit /b %ERRORLEVEL%
    )
    echo.
    echo   ERROR: PowerShell 7+ is required!
    echo.
    echo   Download from: https://github.com/PowerShell/PowerShell/releases
    echo.
    pause
    exit /b 1
)

pwsh -NoProfile -ExecutionPolicy Bypass -NoLogo -File "%~dp0src\main.ps1"
